### å…³äºYImagePicker 


**é‡è¦é€šçŸ¥ï¼šç›®å‰2.xç‰ˆæœ¬ä¸ºé€‰æ‹©å™¨åŸºç¡€ç‰ˆæœ¬ï¼Œé¢„è®¡2019å¹´11æœˆåº•å‰å‘å¸ƒå‡çº§ç‰ˆæœ¬3.0ï¼Œå†…éƒ¨æ¶æ„å°†ä¼šå®Œå…¨é‡æ„ï¼ŒUIå’Œé€»è¾‘ä»£ç å®Œå…¨è§£è€¦ï¼Œå°†ä¼šæ”¯æŒé€‰æ‹©å™¨æ ‡é¢˜æ ã€åº•éƒ¨æ ã€itemã€ç›¸å†Œåˆ—è¡¨ã€é¢„è§ˆã€å‰ªè£ç­‰æ‰€æœ‰UIå®šåˆ¶ï¼Œä¸å†è®¾ç½®å¤æ‚çš„uiconfig,å³å¯å®Œå…¨å®ç°å¸‚åœºä¸Šç™¾åˆ†ä¹‹99çš„é€‰æ‹©å™¨æ ·å¼ã€‚å±Šæ—¶ä¼šå‘å¸ƒé‚®ä»¶é€šçŸ¥ï¼Œè¯·ä½¿ç”¨è€…åŠ¡å¿…watching ,3.xç‰ˆæœ¬å°†ä¸å†å…¼å®¹2.xï¼Œæ‰€æœ‰é…ç½®å°†ä¼šå¼€å¯æ–°çºªå…ƒï¼** 

æœ¬æ–‡æ¡£æ›´æ–°äº:2019/11/02


[ ![Download](https://api.bintray.com/packages/yangpeixing/yimagepicker/androidx/images/download.svg?version=2.4.5) ](https://bintray.com/yangpeixing/yimagepicker/androidx/2.4.5/link)
 - æ”¯æŒå°çº¢ä¹¦å‰ªè£æ ·å¼å¹¶è‡ªå®šä¹‰UI
 - æ”¯æŒå¾®ä¿¡ã€é©¬èœ‚çªã€çŸ¥ä¹ç­‰æ ·å¼å®šåˆ¶
 - æ”¯æŒ13ç§è§†é¢‘å›¾ç‰‡æ–‡ä»¶ç±»å‹æ··åˆåŠ è½½(2.4.4ç‰ˆæœ¬åŠ å…¥)
 - æ”¯æŒå¤§å›¾é¢„è§ˆï¼ˆæ™®é€šé¢„è§ˆ+ç¼–è¾‘é¢„è§ˆï¼‰ï¼Œæ”¯æŒè¶…é•¿å›¾ã€è¶…å¤§å›¾
 - æ”¯æŒå•å›¾è‡ªå®šä¹‰æ¯”ä¾‹å‰ªè£
 - æ”¯æŒå•å›¾åœ†å½¢å‰ªè£ï¼Œç”Ÿæˆpngåœ†å½¢å›¾ç‰‡(2.4.3ç‰ˆæœ¬åŠ å…¥)
 - æ”¯æŒå•å›¾ç•™ç™½å‰ªè£ï¼ˆä»¿æœ€æ–°å¾®ä¿¡å›¾ç‰‡å¤´åƒé€‰æ‹©ï¼‰ï¼Œæ”¯æŒç”Ÿæˆé€æ˜èƒŒæ™¯å›¾(2.4.5ç‰ˆæœ¬åŠ å…¥)
 - å°çº¢ä¹¦å‰ªè£æ ·å¼æ”¯æŒè§†é¢‘å¤šé€‰å’Œé¢„è§ˆ
 - å¾®ä¿¡æ ·å¼æ”¯æŒå›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶æ··åˆé€‰æ‹©æˆ–æŒ‡å®šç±»å‹é€‰æ‹©
 - å¾®ä¿¡æ ·å¼æ”¯æŒä¿å­˜ä¸Šä¸€æ¬¡é€‰ä¸­çš„å›¾ç‰‡çŠ¶æ€
 - å¾®ä¿¡æ ·å¼æ”¯æŒå±è”½ä¸Šä¸€æ¬¡é€‰ä¸­çš„å›¾ç‰‡
 - é€‰æ‹©ç»“æœç›´æ¥å›è°ƒï¼Œæ‹’ç»é…ç½®ActivityForResult+requestCodeï¼Œå³è°ƒç”¨å³å¤„ç†
 - æ”¯æŒé€‰æ‹©å™¨è°ƒç”¨å¤±è´¥å›è°ƒ(2.4.4ç‰ˆæœ¬åŠ å…¥)
 - æ”¯æŒè‡ªå®šä¹‰å›è°ƒç±»å‹(2.4.5ç‰ˆæœ¬åŠ å…¥)
 - è½»é‡çº§ï¼Œaarå¤§å°ä¸è¶…è¿‡300Kï¼Œæ— soåº“ï¼Œæ— ä»»ä½•ç¬¬ä¸‰æ–¹ä¾èµ–
 - æ”¯æŒandroidxå’Œsupport
 - æ°¸ä¹…ç»´æŠ¤

 - **æ”¯æŒç›´æ¥å›è°ƒåª’ä½“ç›¸å†Œåˆ—è¡¨åŠæ–‡ä»¶åˆ—è¡¨æ•°æ®(2.4.6ç‰ˆæœ¬åŠ å…¥)**
 - **æ”¯æŒé€‰æ‹©å™¨æ‰€æœ‰æ–‡æ¡ˆå®šåˆ¶(2.4.6ç‰ˆæœ¬åŠ å…¥)**
 - **androidxå·²é€‚é…AndroidQï¼Œsupportç‰ˆæœ¬ä¸æ”¯æŒ29(2.4.6ç‰ˆæœ¬åŠ å…¥)**
 - **æ”¯æŒç›´æ¥æ‹æ‘„è§†é¢‘(2.4.6ç‰ˆæœ¬åŠ å…¥)**


### å¼•å…¥ä¾èµ–
**androidxç‰ˆæœ¬ï¼š**

```java
implementation 'com.ypx.yimagepicker:androidx:2.4.6.2'
```
**supportç‰ˆæœ¬ï¼š** ï¼ˆä¸æ”¯æŒtargetSdkVersion>=29,æœ€é«˜å…¼å®¹28ï¼‰
```java
implementation 'com.ypx.yimagepicker:support:2.4.6'
```

### æ ¸å¿ƒåŸç†
YImagePickerä¸ä¸»é¡¹ç›®é€šè¿‡presenterè¿›è¡Œäº¤äº’ä¸è§£è€¦ï¼Œpresenteré‡‡ç”¨åºåˆ—åŒ–æ¥å£çš„æ–¹å¼å®ç°ã€‚å›è°ƒé‡‡ç”¨åµŒå…¥fragmentçš„æ–¹å¼å®ç°ï¼Œç±»ä¼¼äºGlideæˆ–RxPermisson.åŸç†ä¸Šè¿˜æ˜¯ä½¿ç”¨OnActivityResult,ä½†æ— éœ€å†é…ç½®requestCodeå¹¶ä¸”æ”¯æŒè·¨è¿›ç¨‹å›è°ƒã€‚


å°çº¢ä¹¦æ ·å¼éœ€è¦å®ç°ï¼šICropPickerBindPresenter
å¾®ä¿¡æ ·å¼éœ€è¦å®ç°ï¼šIMultiPickerBindPresenter

[ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†APIæ–‡æ¡£](https://github.com/yangpeixing/YImagePicker/wiki/YImagePickerä½¿ç”¨æ–‡æ¡£)

[apkä½“éªŒåœ°å€](https://www.pgyer.com/Wfhb)

### æ•ˆæœå›¾é›†
 - **demoæ•ˆæœ**
 
![demoæ•ˆæœ](https://app-screenshot.pgyer.com/image/view/app_screenshots/49a0ff5b0eede276c94c1f094bf12e75-528)

 - **å°çº¢ä¹¦æ ·å¼**

![å°çº¢ä¹¦æ ·å¼](https://app-screenshot.pgyer.com/image/view/app_screenshots/fc09bb8d2ac27b91820593430469cc17-528)
![å°çº¢ä¹¦æ ·å¼](https://app-screenshot.pgyer.com/image/view/app_screenshots/87b43cb9ef8f40377bc3910b3ad3737b-528)
![å°çº¢ä¹¦æ ·å¼](https://app-screenshot.pgyer.com/image/view/app_screenshots/daf41cb9f9a54c3c9879555ddf4ec8c8-528)

 - **å¾®ä¿¡æ ·å¼**
 
![å¾®ä¿¡æ ·å¼](https://app-screenshot.pgyer.com/image/view/app_screenshots/fad19096a28cec65094f6120c154b47f-528)
![å¾®ä¿¡æ ·å¼](https://app-screenshot.pgyer.com/image/view/app_screenshots/21145d344498c57954704bde3e0e7dfc-528)
![å¾®ä¿¡æ ·å¼](https://app-screenshot.pgyer.com/image/view/app_screenshots/2cb198df6739d1a9f91d9ee60ec3c29f-528)

 - **è‡ªå®šä¹‰æ ·å¼**
 
![è‡ªå®šä¹‰æ ·å¼](https://app-screenshot.pgyer.com/image/view/app_screenshots/44b8fdecff62aa20eb51b4f54cfec30a-528)
![è‡ªå®šä¹‰æ ·å¼](https://app-screenshot.pgyer.com/image/view/app_screenshots/57a62bcc84844400878fdb343cf762e8-528) 
 

 - **è‡ªå®šä¹‰æ¯”ä¾‹å‰ªè£**
 
 ![è‡ªå®šä¹‰æ¯”ä¾‹å‰ªè£](https://app-screenshot.pgyer.com/image/view/app_screenshots/15483adb087360ff49e831cb988adce1-528)
 ![è‡ªå®šä¹‰æ¯”ä¾‹å‰ªè£](https://app-screenshot.pgyer.com/image/view/app_screenshots/4cf64a6afb74b6457103bd04debb7e58-528)


### [ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†APIæ–‡æ¡£](https://github.com/yangpeixing/YImagePicker/wiki/YImagePickerä½¿ç”¨æ–‡æ¡£)
 
### å¾®ä¿¡å›¾ç‰‡é€‰æ‹©
æ”¯æŒè§†é¢‘ã€GIFã€é•¿å›¾é€‰æ‹©ï¼Œæ”¯æŒé€‰æ‹©çŠ¶æ€ä¿å­˜ã€‚è°ƒç”¨å‰è¯·æŒ‰ç…§demoå®ç°IMultiPickerBindPresenteræ¥å£ ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```java
ImagePicker.withMulti(new WXImgPickerPresenter())//æŒ‡å®špresenter
           .setMaxCount(9)//è®¾ç½®é€‰æ‹©çš„æœ€å¤§æ•°
           .setColumnCount(4)//è®¾ç½®åˆ—æ•°
           .mimeType(MimeType.ofAll())//è®¾ç½®è¦åŠ è½½çš„æ–‡ä»¶ç±»å‹ï¼Œå¯æŒ‡å®šå•ä¸€ç±»å‹
           .filterMimeType(MimeType.GIF)//è®¾ç½®éœ€è¦è¿‡æ»¤æ‰åŠ è½½çš„æ–‡ä»¶ç±»å‹
           .showCamera(true)//æ˜¾ç¤ºæ‹ç…§
           .setPreview(true)//å¼€å¯é¢„è§ˆ
           .setVideoSinglePick(true)//è®¾ç½®è§†é¢‘å•é€‰
           .setSinglePickImageOrVideoType(true)//è®¾ç½®å›¾ç‰‡å’Œè§†é¢‘å•ä¸€ç±»å‹é€‰æ‹©
           .setMaxVideoDuration(120000L)//è®¾ç½®è§†é¢‘å¯é€‰å–çš„æœ€å¤§æ—¶é•¿
           .setMinVideoDuration(60000L)//è®¾ç½®è§†é¢‘å¯é€‰å–çš„æœ€å°æ—¶é•¿
           .setLastImageList(null)//è®¾ç½®ä¸Šä¸€æ¬¡æ“ä½œçš„å›¾ç‰‡åˆ—è¡¨ï¼Œä¸‹æ¬¡é€‰æ‹©æ—¶é»˜è®¤æ¢å¤ä¸Šä¸€æ¬¡é€‰æ‹©çš„çŠ¶æ€
           .setShieldList(null)//è®¾ç½®éœ€è¦å±è”½æ‰çš„å›¾ç‰‡åˆ—è¡¨ï¼Œä¸‹æ¬¡é€‰æ‹©æ—¶å·²å±è”½çš„æ–‡ä»¶ä¸å¯é€‰æ‹©
           .pick(this, new OnImagePickCompleteListener() {
                @Override
                public void onImagePickComplete(ArrayList<ImageItem> items) {
                    //å›¾ç‰‡é€‰æ‹©å›è°ƒï¼Œä¸»çº¿ç¨‹
                }
            });                                                                                                                            
```
### å°çº¢ä¹¦å›¾ç‰‡é€‰æ‹©
é«˜ä»¿å°çº¢ä¹¦å›¾ç‰‡å‰ªè£æ¡†æ¶ï¼Œæ”¯æŒè§†é¢‘ä»¥åŠå¤šå›¾å‰ªè£ã€æ”¯æŒè§†é¢‘é¢„è§ˆï¼Œæ”¯æŒUIè‡ªå®šä¹‰ï¼Œæ”¯æŒfragmentæ ·å¼ä¾µå…¥ã€‚è°ƒç”¨å‰è¯·æŒ‰ç…§demoå®ç°ICropPickerBindPresenteræ¥å£ ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```java
ImagePicker.withCrop(new RedBookCropPresenter())//è®¾ç½®presenter
           .setMaxCount(9)//è®¾ç½®é€‰æ‹©æ•°é‡
           .showCamera(true)//è®¾ç½®æ˜¾ç¤ºæ‹ç…§
           .setColumnCount(4)//è®¾ç½®åˆ—æ•°
           .mimeType(MimeType.ofImage())//è®¾ç½®éœ€è¦åŠ è½½çš„æ–‡ä»¶ç±»å‹
           .filterMimeType(MimeType.GIF)//è®¾ç½®éœ€è¦è¿‡æ»¤æ‰çš„æ–‡ä»¶ç±»å‹
           .setFirstImageItem(null)//è®¾ç½®ä¸Šä¸€æ¬¡é€‰ä¸­çš„å›¾ç‰‡
           .setFirstImageUrl(null)//è®¾ç½®ä¸Šä¸€æ¬¡é€‰ä¸­çš„å›¾ç‰‡åœ°å€
           .setVideoSinglePick(true)//è®¾ç½®è§†é¢‘å•é€‰
           .setCropPicSaveFilePath("å‰ªè£å›¾ç‰‡ä¿å­˜è·¯å¾„")
           .setMaxVideoDuration(2000L)//è®¾ç½®å¯é€‰å–çš„æœ€å¤§è§†é¢‘æ—¶é•¿
           .setMinVideoDuration(60000L)//è®¾ç½®è§†é¢‘å¯é€‰å–çš„æœ€å°æ—¶é•¿
           .pick(this, new OnImagePickCompleteListener() {
                @Override
                public void onImagePickComplete(ArrayList<ImageItem> items) {
                    //å›¾ç‰‡å‰ªè£å›è°ƒï¼Œä¸»çº¿ç¨‹
                    //æ³¨æ„ï¼šå‰ªè£å›è°ƒé‡Œçš„ImageItemä¸­getCropUrl()æ‰æ˜¯å‰ªè£è¿‡åçš„å›¾ç‰‡åœ°å€
                }
            });                                                        
```
### é¢„è§ˆ
æ”¯æŒæ™®é€šé¢„è§ˆå’Œç¼–è¾‘é¢„è§ˆï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```java
//é…ç½®éœ€è¦é¢„è§ˆçš„æ‰€æœ‰å›¾ç‰‡åˆ—è¡¨
ArrayList<ImageItem> allPreviewImageList = new ArrayList<>();
//é»˜è®¤é€‰ä¸­çš„å›¾ç‰‡ç´¢å¼•
int defaultPosition = 0;
//å¼€å¯ç¼–è¾‘é¢„è§ˆ
ImagePicker.preview(this, new WXImgPickerPresenter(), allPreviewImageList, defaultPosition, new OnImagePickCompleteListener() {
        @Override
        public void onImagePickComplete(ArrayList<ImageItem> items) {
            //å›¾ç‰‡ç¼–è¾‘å›è°ƒï¼Œä¸»çº¿ç¨‹
        }
    });                                                           
```

### æ‹ç…§
æ”¯æŒç›´æ¥æ‰“å¼€æ‘„åƒå¤´æ‹ç…§ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```java
ImagePicker.takePhoto(this, "æ‹ç…§ä¿å­˜è·¯å¾„", new OnImagePickCompleteListener() {
        @Override
        public void onImagePickComplete(ArrayList<ImageItem> items) {
            //æ‹ç…§å›è°ƒï¼Œä¸»çº¿ç¨‹
        }
    });
```

### æ‹æ‘„è§†é¢‘
æ”¯æŒç›´æ¥æ‰“å¼€æ‘„åƒå¤´æ‹è§†é¢‘ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```java
ImagePicker.takeVideo(this, "è§†é¢‘ä¿å­˜è·¯å¾„", new OnImagePickCompleteListener() {
        @Override
        public void onImagePickComplete(ArrayList<ImageItem> items) {
            //æ‹ç…§å›è°ƒï¼Œä¸»çº¿ç¨‹
        }
    });
```

### è°ƒç”¨é€‰æ‹©å™¨å¹¶å‰ªè£
æ”¯æŒé€‰æ‹©å›¾ç‰‡å®Œè°ƒç”¨å‰ªè£ï¼Œæ”¯æŒè‡ªå®šä¹‰æ¯”ä¾‹å‰ªè£ï¼Œæ”¯æŒåœ†å½¢å‰ªè£ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
 ```java
ImagePicker.withMulti(new WXImgPickerPresenter())
            .mimeType(MimeType.ofImage())
            .filterMimeType(MimeType.GIF)
             //è®¾ç½®å‰ªè£æ¯”ä¾‹
            .setCropRatio(1,1)
            .cropSaveFilePath("å‰ªè£å›¾ç‰‡ä¿å­˜è·¯å¾„")
            //è®¾ç½®å‰ªè£æ¡†é—´è·ï¼Œå•ä½px
            .cropRectMinMargin(50)
             //æ˜¯å¦åœ†å½¢å‰ªè£ï¼Œåœ†å½¢å‰ªè£æ—¶ï¼ŒsetCropRatioæ— æ•ˆ
            .cropAsCircle()
             //è®¾ç½®å‰ªè£æ¨¡å¼ï¼Œç•™ç™½æˆ–å……æ»¡  CropConfig.STYLE_GAP æˆ– CropConfig.STYLE_FILL
            .cropStyle(CropConfig.STYLE_FILL)
             //è®¾ç½®ç•™ç™½æ¨¡å¼ä¸‹ç”Ÿæˆçš„å›¾ç‰‡èƒŒæ™¯è‰²ï¼Œæ”¯æŒé€æ˜èƒŒæ™¯
            .cropGapBackgroundColor(Color.TRANSPARENT)
            .crop(this, new OnImagePickCompleteListener() {
                @Override
                public void onImagePickComplete(ArrayList<ImageItem> items) {
                    //å›¾ç‰‡å‰ªè£å›è°ƒï¼Œä¸»çº¿ç¨‹
                }
            });                                                     
```

### æ‹ç…§å¹¶å‰ªè£
æ”¯æŒç›´æ¥æ‰“å¼€æ‘„åƒå¤´æ‹ç…§å¹¶å‰ªè£ï¼Œæ”¯æŒè‡ªå®šä¹‰æ¯”ä¾‹å‰ªè£å’Œåœ†å½¢å‰ªè£ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```java
//é…ç½®å‰ªè£å±æ€§
CropConfig cropConfig = new CropConfig();
 //è®¾ç½®å‰ªè£æ¯”ä¾‹
cropConfig.setCropRatio(1, 1);
//è®¾ç½®å‰ªè£æ¡†é—´è·ï¼Œå•ä½px
cropConfig.setCropRectMargin(100);
cropConfig.setCropSaveFilePath("å‰ªè£ç”Ÿæˆçš„å›¾ç‰‡è·¯å¾„");
//æ˜¯å¦åœ†å½¢å‰ªè£ï¼Œåœ†å½¢å‰ªè£æ—¶ï¼ŒsetCropRatioæ— æ•ˆ
cropConfig.setCircle(false);
//è®¾ç½®å‰ªè£æ¨¡å¼ï¼Œç•™ç™½æˆ–å……æ»¡  CropConfig.STYLE_GAP æˆ– CropConfig.STYLE_FILL
cropConfig.setCropStyle(CropConfig.STYLE_GAP);
//è®¾ç½®ç•™ç™½æ¨¡å¼ä¸‹ç”Ÿæˆçš„å›¾ç‰‡èƒŒæ™¯è‰²ï¼Œæ”¯æŒé€æ˜èƒŒæ™¯
cropConfig.setCropGapBackgroundColor(Color.TRANSPARENT );
//è°ƒç”¨æ‹ç…§
ImagePicker.takePhotoAndCrop(this, new WXImgPickerPresenter(), cropConfig, 
    new OnImagePickCompleteListener() {
        @Override
        public void onImagePickComplete(ArrayList<ImageItem> items) {
            //å‰ªè£å›è°ƒï¼Œä¸»çº¿ç¨‹
        }
    });
```

### ç›´æ¥å‰ªè£
æ”¯æŒç›´æ¥è·³è½¬å‰ªè£é¡µé¢ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š
```java
CropConfig cropConfig = new CropConfig();
 //è®¾ç½®å‰ªè£æ¯”ä¾‹
cropConfig.setCropRatio(1, 1);
//è®¾ç½®å‰ªè£æ¡†é—´è·ï¼Œå•ä½px
cropConfig.setCropRectMargin(100);
cropConfig.setCropSaveFilePath("å‰ªè£ç”Ÿæˆçš„å›¾ç‰‡è·¯å¾„");
//æ˜¯å¦åœ†å½¢å‰ªè£ï¼Œåœ†å½¢å‰ªè£æ—¶ï¼ŒsetCropRatioæ— æ•ˆ
cropConfig.setCircle(false);
//è®¾ç½®å‰ªè£æ¨¡å¼ï¼Œç•™ç™½æˆ–å……æ»¡  CropConfig.STYLE_GAP æˆ– CropConfig.STYLE_FILL
cropConfig.setCropStyle(CropConfig.STYLE_GAP);
//è®¾ç½®ç•™ç™½æ¨¡å¼ä¸‹ç”Ÿæˆçš„å›¾ç‰‡èƒŒæ™¯è‰²ï¼Œæ”¯æŒé€æ˜èƒŒæ™¯
cropConfig.setCropGapBackgroundColor(Color.TRANSPARENT );
//è°ƒç”¨å‰ªè£
String needCropImageUrl="éœ€è¦å‰ªè£çš„å›¾ç‰‡è·¯å¾„";
ImagePicker.crop(this, new WXImgPickerPresenter(), cropConfig, needCropImageUrlï¼Œ
    new OnImagePickCompleteListener() {
        @Override
        public void onImagePickComplete(ArrayList<ImageItem> items) {
            //å‰ªè£å›è°ƒï¼Œä¸»çº¿ç¨‹
        }
    });
```

### æä¾›åª’ä½“æ•°æ®â€”â€”æ”¯æŒå›è°ƒç›¸å†Œæ•°æ®ã€æ‰€æœ‰åª’ä½“æ•°æ®ã€æŒ‡å®šç›¸å†Œå†…åª’ä½“æ•°æ®
#### è·å–åª’ä½“ç›¸å†Œæ•°æ®
```java
//æŒ‡å®šè¦å›è°ƒçš„ç›¸å†Œç±»å‹ï¼Œå¯ä»¥æŒ‡å®š13ç§å›¾ç‰‡è§†é¢‘æ–‡ä»¶æ ¼å¼æ··åˆ
Set<MimeType> mimeTypes = MimeType.ofAll();
ImagePicker.provideMediaSets(this, mimeTypes, new MediaSetsDataSource.MediaSetProvider() {
    @Override
    public void providerMediaSets(ArrayList<ImageSet> imageSets) {
        //ç›¸å†Œåˆ—è¡¨å›è°ƒï¼Œä¸»çº¿ç¨‹
    }
});
```
#### è·å–å…¨éƒ¨åª’ä½“æ–‡ä»¶
```java
//æŒ‡å®šè¦å›è°ƒçš„ç›¸å†Œç±»å‹ï¼Œå¯ä»¥æŒ‡å®š13ç§å›¾ç‰‡è§†é¢‘æ–‡ä»¶æ ¼å¼æ··åˆ
Set<MimeType> mimeTypes = MimeType.ofAll();
ImagePicker.provideAllMediaItems(this, mimeTypes, new MediaItemsDataSource.MediaItemProvider() {
        @Override
        public void providerMediaItems(ArrayList<ImageItem> imageItems, ImageSet allVideoSet) {
            //å…¨éƒ¨åª’ä½“æ•°æ®å›è°ƒï¼Œä¸»çº¿ç¨‹
            //åªæœ‰å½“mimeTypesæ—¢åŒ…å«å›¾ç‰‡æˆ–è€…è§†é¢‘æ ¼å¼æ–‡ä»¶æ—¶ï¼ŒallVideoSetæ‰æœ‰å€¼
        }
    });
```
#### è·å–æŒ‡å®šç›¸å†Œå†…å…¨éƒ¨åª’ä½“æ–‡ä»¶
```java
//æŒ‡å®šè¦å›è°ƒçš„ç›¸å†Œç±»å‹ï¼Œå¯ä»¥æŒ‡å®š13ç§å›¾ç‰‡è§†é¢‘æ–‡ä»¶æ ¼å¼æ··åˆ
Set<MimeType> mimeTypes = MimeType.ofAll();
//æŒ‡å®šç›¸å†Œï¼Œidä¸èƒ½ä¸ºç©º
ImageSet imageSet = new ImageSet();
ImagePicker.provideMediaItemsFromSet(this, imageSet, mimeTypes, new MediaItemsDataSource.MediaItemProvider() {
        @Override
        public void providerMediaItems(ArrayList<ImageItem> imageItems, ImageSet allVideoSet) {
            //å…¨éƒ¨åª’ä½“æ•°æ®å›è°ƒï¼Œä¸»çº¿ç¨‹
            //åªæœ‰å½“mimeTypesæ—¢åŒ…å«å›¾ç‰‡æˆ–è€…è§†é¢‘æ ¼å¼æ–‡ä»¶æ—¶ï¼ŒallVideoSetæ‰æœ‰å€¼
        }
    });
```
#### é¢„åŠ è½½è·å–æŒ‡å®šç›¸å†Œå†…å…¨éƒ¨åª’ä½“æ–‡ä»¶
```java
//æŒ‡å®šè¦å›è°ƒçš„ç›¸å†Œç±»å‹ï¼Œå¯ä»¥æŒ‡å®š13ç§å›¾ç‰‡è§†é¢‘æ–‡ä»¶æ ¼å¼æ··åˆ
Set<MimeType> mimeTypes = MimeType.ofAll();
//æŒ‡å®šç›¸å†Œï¼Œidä¸èƒ½ä¸ºç©º
ImageSet imageSet = new ImageSet();
//é¢„åŠ è½½ä¸ªæ•°
int preloadSize = 40;
ImagePicker.provideMediaItemsFromSetWithPreload(this, imageSet, mimeTypes, preloadSize, 
    new MediaItemsDataSource.MediaItemPreloadProvider() {
        @Override
        public void providerMediaItems(ArrayList<ImageItem> imageItems) {
            //é¢„åŠ è½½å›è°ƒï¼Œé¢„å…ˆåŠ è½½æŒ‡å®šæ•°ç›®çš„åª’ä½“æ–‡ä»¶å›è°ƒ
        }
    },
    new MediaItemsDataSource.MediaItemProvider() {
        @Override
        public void providerMediaItems(ArrayList<ImageItem> imageItems, ImageSet allVideoSet) {
            //æ‰€æœ‰åª’ä½“æ–‡ä»¶å›è°ƒ
            }
        });
```

### presenteræŒ‡å®šã€è‡ªå®šä¹‰Itemæ ·å¼ã€è‡ªå®šä¹‰çš®è‚¤UIã€è‡ªå®šä¹‰æç¤ºå¸¸é‡ã€è®¾ç½®é€‰æ‹©å™¨è°ƒç”¨å¤±è´¥å›è°ƒã€è‡ªå®šä¹‰å›è°ƒç±»å‹
è¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·[æŸ¥çœ‹è¯¦ç»†APIæ–‡æ¡£](https://github.com/yangpeixing/YImagePicker/wiki/YImagePickerä½¿ç”¨æ–‡æ¡£)


### ç‰ˆæœ¬è®°å½•
[æŸ¥çœ‹è¯¦ç»†ç‰ˆæœ¬è®°å½•](https://github.com/yangpeixing/YImagePicker/wiki/YImagePickerç‰ˆæœ¬è®°å½•)


#### 2.4.6ç‰ˆæœ¬ [2019.11.02]
  1. ã€BUGä¿®å¤ã€‘ä¿®å¤äº†çº¢ç±³æ‹ç…§é—ªé€€é—®é¢˜
  2. ã€BUGä¿®å¤ã€‘å–æ¶ˆäº†é€‰æ‹©å™¨æ²¡æœ‰æ–‡ä»¶æ—¶ç›´æ¥é€€å‡ºé€‰æ‹©å™¨çš„ç­–ç•¥ã€‚æ”¹ä¸ºæç¤ºè¯­å¥â€œæš‚æœªå‘ç°åª’ä½“æ–‡ä»¶â€.
  3. ã€é€‚é…ã€‘å·²é€‚é…AndroidQï¼Œè§£å†³targetSdkVersionè®¾ç½®29æ—¶æ•°æ®åº“æŠ¥é”™çš„bug
  4. ã€æ–°å¢ã€‘æ–°å¢ç›´æ¥æ‹æ‘„è§†é¢‘
  5. ã€æ–°å¢ã€‘presenteræ–°å¢overMaxCountTipã€interceptPickerCancelã€interceptVideoClickã€getPickConstantså››ä¸ªæ–¹æ³•
  6. ã€æ–°å¢ã€‘æ–°å¢PickConstantsç”¨äºä¿®æ”¹é€‰æ‹©å™¨æ‰€æœ‰æ–‡æ¡ˆï¼Œåœ¨presenterä¸­æŒ‡å®š
  7. ã€æ–°å¢ã€‘æ”¯æŒç›´æ¥å›è°ƒåª’ä½“æ•°æ®ï¼Œå…¶ä¸­åŒ…å«å›è°ƒç›¸å†Œåˆ—è¡¨ã€å…¨éƒ¨åª’ä½“æ–‡ä»¶ã€æŒ‡å®šç›¸å†Œé‡Œåª’ä½“æ–‡ä»¶ï¼Œæ”¯æŒæŒ‡å®šæ•°é‡é¢„åŠ è½½ã€‚
  8. ã€æ–°å¢ã€‘æ–°å¢é€€å‡ºé€‰æ‹©å™¨æ—¶æ‹¦æˆªå›è°ƒï¼Œæ–°å¢ç‚¹å‡»è§†é¢‘itemçš„æ‹¦æˆªå›è°ƒï¼Œåœ¨presenterä¸­æŒ‡å®š
  9. ã€æ–°å¢ã€‘æ–°å¢è§†é¢‘æœ€å°é€‰æ‹©æ—¶é•¿
  10. ã€ä¼˜åŒ–ã€‘é‡æ„äº†é¢„è§ˆé¡µé¢ï¼Œå°†é€‰æ‹©å™¨é¢„è§ˆå’Œé€šç”¨é¢„è§ˆåˆ†ç¦»ï¼Œé™ä½è€¦åˆåº¦
  11. ã€ä¼˜åŒ–ã€‘ç»Ÿä¸€æ•´ç†äº†èµ„æºæ–‡ä»¶å‘½åï¼Œä»¥åŠåˆ é™¤ä¸å¿…è¦çš„èµ„æº
  12. ã€è°ƒæ•´ã€‘clearAllCacheæ–¹æ³•å·²åºŸå¼ƒ
  13. ã€è°ƒæ•´ã€‘åŸæœ‰çš„é€‰æ‹©å™¨æ‹ç…§ä¼šç›´æ¥å›è°ƒå‡ºç…§ç‰‡ï¼Œç°åœ¨æ”¹ä¸ºç”Ÿæˆåœ¨é€‰æ‹©å™¨çš„ç¬¬ä¸€ä¸ª
  14. ã€è°ƒæ•´ã€‘å½“é€‰æ‹©å™¨åªåŠ è½½è§†é¢‘æ—¶ï¼Œæ‹ç…§itemæ”¯æŒæ‹æ‘„è§†é¢‘ï¼Œå…¶ä»–æƒ…å†µå‡ä¸ºæ‹ç…§
  15. ã€ä¼˜åŒ–ã€‘é€‰æ‹©å™¨è°ƒç”¨å±è”½å¤šæ¬¡ç‚¹å‡»ï¼Œè°ƒç”¨å¤šæ¬¡
  16. ã€ä¼˜åŒ–ã€‘æ‰€æœ‰ä¸å¯é€‰æ‹©çš„item(ç½®ç°)é€‰ä¸­å‡ä¼šæœ‰å…·ä½“çš„æç¤º

### ä¸‹ä¸ªç‰ˆæœ¬æ’æœŸ
æ—¶é—´ï¼š2019å¹´11æœˆä¸­æ—¬
 1. ~~é€‚é…AndroidQ~~ï¼ˆ2.4.6å·²æ”¯æŒï¼‰
 2. å¾®ä¿¡é€‰æ‹©å™¨åŠ å…¥åŸå›¾é€‰é¡¹
 3. ~~æ”¯æŒå¯¹å¤–æš´éœ²æ•°æ®æºï¼Œä»¥ä¾¿äºå®ç°ç±»ä¼¼QQå‘æ¶ˆæ¯æ—¶çš„é€‰æ‹©å›¾ç‰‡~~ï¼ˆ2.4.6å·²æ”¯æŒï¼‰
 4. å®ç°æœ€æ–°ç‰ˆå¾®ä¿¡æ ·å¼
 5. å‰ªè£æ”¯æŒè¾“å‡ºæŒ‡å®šå¤§å°å›¾ç‰‡
 6. **ç­‰ä½ æ¥æ**

 è®¡åˆ’TODOï¼š
 1. è§†é¢‘é¢„è§ˆæ¡†æ¶åˆ‡æ¢ï¼ˆåæ§½ï¼šå®˜æ–¹videoViewå¤ªéš¾ç”¨äº†~~/(ã„’oã„’)/~~ï¼‰
 2. å›¾ç‰‡å‰ªè£æ”¯æŒæ—‹è½¬
 3. ~~æ”¯æŒJPEGã€PNGã€GIFã€BMPã€WEBPã€MPEGã€MP4ã€QUICKTIMEã€THREEGPPã€THREEGPP2ã€MKVã€WEBMã€TSã€AVIç­‰å›¾ç‰‡è§†é¢‘æ–‡ä»¶æ ¼å¼æ··åˆåŠ è½½æˆ–æŒ‡å®šåŠ è½½~~ï¼ˆ2.4.4å·²æ”¯æŒï¼‰

 æ°¸ä¸TODOï¼š
 1. ä¸ä¼šæ”¯æŒå›¾ç‰‡å‹ç¼©ï¼Œè¯·ä½¿ç”¨è€…è‡ªè¡Œä½¿ç”¨luBan
 2. ä¸ä¼šæ”¯æŒå›¾ç‰‡å’Œè§†é¢‘é«˜çº§ç¼–è¾‘ï¼ˆæ»¤é•œã€è´´çº¸ç­‰ï¼‰

### æ„Ÿè°¢
- æœ¬æ¡†æ¶åª’ä½“åº“æŸ¥è¯¢éƒ¨åˆ†å€Ÿé‰´äºçŸ¥ä¹å¼€æºæ¡†æ¶Matiseeï¼Œå¹¶åœ¨å…¶åŸºç¡€ä¸Šæ‹“å±•å¹¶å»¶ä¼¸ï¼Œè®©æŸ¥è¯¢æ›´å¯Œæœ‰å®šåˆ¶æ€§ï¼Œåœ¨æ­¤å¯¹åŸä½œè€…è¡¨ç¤ºæ„Ÿè°¢ã€‚

- æœ¬åº“æ¥æºäºmars App,æƒ³è¦ä½“éªŒåŸå¸‚æœ€æ–°çš„åƒå–ç©ä¹ï¼Œæ¬¢è¿è¯»è€…ä¸‹è½½ä½“éªŒmars!

- æ„Ÿè°¢æ‰€æœ‰æ”¯æŒæˆ–Staræœ¬é¡¹ç›®çš„ä½¿ç”¨è€…ï¼Œæ„Ÿè°¢æ‰€æœ‰ç»™æˆ‘æIssueçš„æœ‹å‹ä»¬ ~~ é èº¬ ~~ï¼

### å¿ƒå£°

å› æœ¬äººæœ€è¿‘é¡ºåˆ©çš„å½“äº†çˆ¸çˆ¸ï¼Œéœ€è¦ç…§é¡¾è€å©†å’Œå°å­©ï¼Œæ‰€ä»¥æœ‰äº›æ—¶å€™æ¶ˆæ¯å›å¤çš„ä¸æ˜¯å¾ˆåŠæ—¶ï¼Œå¾ˆå¤šé—®é¢˜æ²¡èƒ½å¤Ÿç»™ä½¿ç”¨è€…åŠæ—¶çš„å›å¤ï¼Œåœ¨è¿™é‡Œç”±è¡·çš„è¡¨ç¤ºæ­‰æ„ã€‚ YImagePickerä»å½“åˆçš„åªæ”¯æŒå¾®ä¿¡å›¾ç‰‡é€‰æ‹©å™¨åˆ°æ”¯æŒå°çº¢ä¹¦æ ·å¼ï¼Œå†åˆ°å„ç§è‡ªå®šä¹‰ï¼Œå¯è°“èŠ±è´¹äº†æˆ‘è¿‘ä¸€å¹´å¤šçš„æ—¶å…‰ï¼Œå¯èƒ½æœ‰äººè§‰å¾—è¿™ä¸ªé¡¹ç›®å¾ˆç®€å•ï¼Œä½†æ˜¯ä»å¼€æºæ€§çš„è§’åº¦ä¸Šæ¥è¯´ï¼Œå¾ˆå¤šæ—¶å€™ä»£ç ä¸æ˜¯æˆ‘ä»¬æƒ³æ€ä¹ˆå†™å°±æ€ä¹ˆå†™çš„ã€‚ä¸ºäº†è¾¾æˆç»Ÿä¸€é£æ ¼ï¼Œæœ¬äººä¹Ÿå€Ÿé‰´äº†ä¸ä¸‹äº20å¤šä¸ªå›¾ç‰‡é€‰æ‹©åº“ã€‚ä½†æ˜¯éšç€ä¸šåŠ¡çš„å¤æ‚å’Œæœºå‹çš„å¤šæ ·ï¼Œä¸å¾—ä¸ä¸€éä¸€éé‡æ„ï¼Œå…¶ä¸­å¸¦æ¥äº†ä¸å°‘çš„é—®é¢˜ï¼Œä¹Ÿå­¦ä¹ åˆ°äº†å¾ˆå¤šã€‚åœ¨æˆ‘çš„è®¡åˆ’ä¸­ï¼Œæœ¬åº“åªæ˜¯ä¸€ä¸ªå¼€å§‹ï¼Œè™½ç„¶å®šåˆ¶æ€§å¾ˆå¼ºï¼Œä½†æ˜¯ä»£ç é€»è¾‘è¿˜æ˜¯æœ‰äº›å¤æ‚ï¼Œæ¶æ„è¿˜éœ€è¦ä¸æ–­è°ƒæ•´ã€‚å¯èƒ½ä½¿ç”¨è€…åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ä¼šå‡ºç°å„ç§å„æ ·çš„é—®é¢˜ï¼Œè¿˜è¯·ä¸è¦å¯¹æœ¬åº“æ”¾å¼ƒï¼Œå¯ä»¥å¤§èƒ†çš„åŠ æˆ‘è”ç³»æ–¹å¼å¹¶åé¦ˆç»™æˆ‘ï¼ˆå–·æˆ‘ï¼‰ï¼Œå¦‚æœBUGç´§æ€¥ï¼Œæˆ‘ä¹Ÿä¼šåŠ ç­å®Œå–„å®ƒï¼Œè‡³äºé‚£äº›å–æ¶ˆstaræˆ–è€…ä¸çœ‹å¥½æœ¬æ¡†æ¶çš„ï¼Œæˆ‘ä¹Ÿåªèƒ½è¯´å£°æŠ±æ­‰ï¼Œæ²¡æœ‰è§£å†³æ‰ä½ ä»¬çš„ç—›ç‚¹ã€‚è¿˜æ˜¯é‚£å¥è€è¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯å®Œç¾çš„ï¼Œä½†æˆ‘ä¼šåŠ›æ‰€èƒ½åŠ~


- ä½œè€…ï¼š[calorYang](https://blog.csdn.net/qq_16674697)
- é‚®ç®±ï¼š313930500@qq.com
- Q Q: 313930500 
- å¾®ä¿¡ï¼šcalor0616 
- åšå®¢ï¼š[CSDN](https://blog.csdn.net/qq_16674697)


**é‡åˆ°é—®é¢˜åˆ«ç»•è·¯ï¼ŒQQå¾®ä¿¡ç›´æ¥å‘¼~ æ‚¨çš„starå°±æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›~ğŸŒ¹**